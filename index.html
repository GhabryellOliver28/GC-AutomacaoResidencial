<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gabriel Cantanhede - Automa√ß√£o Residencial</title>
  <meta name="description" content="Gabriel Cantanhede - Solu√ß√µes em automa√ß√£o residencial, √°udio & v√≠deo, Wi-Fi profissional." />
  <style>
    /* ===== RESET / BASE ===== */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:#111;
      background: #fafafa;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
      position:relative;
      min-height:100%;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block;height:auto}

    /* === BACKGROUND FROM SLIDER (applies across page with blur/transparency) === */
    body::before{
      content: "";
      position: fixed;
      inset: 0;
      z-index: -1;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      opacity: 0;             /* controlled by JS to show subtlety */
      filter: blur(14px) saturate(.9) contrast(.95);
      transition: background-image 1s ease, opacity .6s ease;
      pointer-events: none;
    }

    /* ===== LAYOUT ===== */
    header{
      position:fixed; top:0; left:0; right:0; z-index:40;
      background:linear-gradient(180deg, rgba(10,10,10,0.55), rgba(10,10,10,0.15));
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      padding:18px 32px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      transition: padding .18s;
    }
    .brand{ display:flex; gap:12px; align-items:center; color:#fff; font-weight:700; font-size:18px; letter-spacing:0.6px; }
    .brand .logo{ width:44px;height:44px; border-radius:8px; background:linear-gradient(135deg,#2ee6a7,#00c2ff); display:flex; align-items:center; justify-content:center; box-shadow:0 6px 18px rgba(0,0,0,0.25); color:#063; font-weight:900; }
    nav.desktop{ display:flex; gap:18px; align-items:center; }
    nav.desktop a{color:#fff; padding:8px 10px; border-radius:8px; font-weight:600}
    nav.desktop a:hover{background:rgba(255,255,255,0.06)}

    /* Hamburger */
    .hamburger{ display:none; width:44px;height:36px; border-radius:8px; align-items:center; justify-content:center; cursor:pointer; background:rgba(255,255,255,0.06); }
    .hamburger .bars{ width:20px;height:2px;background:#fff; position:relative; }
    .hamburger .bars::before, .hamburger .bars::after{content:"";position:absolute; left:0; width:20px;height:2px;background:#fff}
    .hamburger .bars::before{top:-6px} .hamburger .bars::after{top:6px}

    /* Mobile overlay nav */
    .mobile-nav{ position:fixed; inset:0; background:linear-gradient(180deg, rgba(2,6,23,0.9), rgba(2,6,23,0.98)); display:flex;flex-direction:column;align-items:center;justify-content:center; gap:18px; padding:40px; transform:translateY(-6%); opacity:0; pointer-events:none; transition:all .28s ease; z-index:39; }
    .mobile-nav.show{transform:none;opacity:1;pointer-events:auto}

    /* ===== HERO ===== */
    .hero{
      min-height:92vh;
      display:grid;
      grid-template-columns:1fr 560px;
      gap:48px;
      align-items:center;
      padding:140px 6vw 80px;
      background: linear-gradient(180deg, #08101a 0%, #0f1c27 30%);
      color:#fff;
    }
    .hero .eyebrow{color:#b9f7d9; font-weight:700; letter-spacing:1px; font-size:13px}
    .hero h1{margin:18px 0 12px; font-size:42px; line-height:1.02; letter-spacing:-1px}
    .hero p.lead{max-width:600px; color:rgba(255,255,255,0.88); font-size:16px}
    .ctas{display:flex; gap:14px; margin-top:22px}
    .btn{ display:inline-flex; align-items:center; gap:10px; background:#00e07a; color:#032; font-weight:700; padding:12px 18px; border-radius:12px; box-shadow:0 8px 28px rgba(0,224,122,0.12); border:none; cursor:pointer; transition:transform .14s ease, box-shadow .14s; }
    .btn.secondary{ background:transparent; color:#fff; border:1px solid rgba(255,255,255,0.12); box-shadow:none; font-weight:600; }
    .btn:hover{transform:translateY(-4px)}

    /* Quick features strip */
    .features-strip{ display:flex; gap:18px; margin-top:28px; flex-wrap:wrap; color:rgba(255,255,255,0.88); }
    .feature-pill{ background:rgba(255,255,255,0.04); padding:10px 12px; border-radius:999px; font-weight:600; font-size:13px; }

    /* ===== CONTENT SECTIONS ===== */
    main{padding:40px 6vw 120px; position:relative; z-index:1}
    .section{ max-width:1150px; margin:0 auto 60px; padding:28px 18px; background:transparent; position:relative; }
    .two-col{display:grid; grid-template-columns: 1fr 1fr; gap:36px; align-items:center}
    h2.section-title{font-size:28px; margin:6px 0 12px}
    p.section-desc{color:#444; margin:0 0 14px}

    /* SERVICE CARDS */
    .services{display:grid; grid-template-columns: repeat(4,1fr); gap:20px; margin-top:22px}
    .card{
      background:#fff; border-radius:14px; padding:22px; box-shadow:0 8px 30px rgba(12,18,25,0.06);
      transform:translateY(18px); opacity:0; transition:all .6s cubic-bezier(.2,.9,.2,1);
    }
    .card.in-view{transform:none; opacity:1}
    .card .icon{width:60px;height:60px;border-radius:12px;background:linear-gradient(135deg,#2ee6a7,#00c2ff); display:flex;align-items:center;justify-content:center;font-weight:800;color:#052}
    .card h3{margin:12px 0 8px; font-size:16px}
    .card p{color:#666;font-size:14px}

    /* SLIDER (automatic, below cards) */
    .slider-wrap{margin-top:28px; width:100%; max-width:980px; margin-left:auto; margin-right:auto; border-radius:14px; overflow:hidden; box-shadow:0 18px 50px rgba(2,6,23,0.08)}
    .slider-slide{width:100%; height:420px; display:none; background-size:cover; background-position:center}
    .slider-slide.active{display:block}
    .slider-caption{position:absolute; left:18px; bottom:18px; z-index:3; color:#fff; font-weight:700; background:linear-gradient(180deg, rgba(0,0,0,0.24), rgba(0,0,0,0.36)); padding:10px 12px; border-radius:10px}

    /* TIMELINE STYLE RIGHT/LEFT */
    .split-list{display:grid;grid-template-columns:1fr 1fr;gap:18px;align-items:start}
    .tick-list{list-style:none;padding:0;margin:0}
    .tick-list li{display:flex;gap:12px;padding:10px 0;color:#444}
    .tick{width:38px;height:38px;border-radius:50%;display:inline-grid;place-items:center;background:#051722;color:#fff;font-weight:700}

    /* DARK BAND (Audio/Video) with background video */
    .dark-band{
      background:#07070a;color:#fff;padding:56px;border-radius:40px;margin:40px 0;display:grid;grid-template-columns:1fr 1fr;gap:22px;align-items:center;
      position:relative; overflow:hidden;
    }
    .dark-band video{
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity .45s ease;
      z-index:1;
    }
    .dark-band.playing video{opacity:1}
    .dark-band .content{position:relative; z-index:3; transition:opacity .35s ease;}
    .dark-band.playing .content{opacity:0}

    .big-num{font-size:92px;font-weight:900;opacity:0.95;letter-spacing:-2px}

    /* WI-FI section */
    .cta-center{display:flex;justify-content:center;margin-top:18px}

    /* FLOATING CTA (same side, higher - can be visually mid-screen) */
    .floating-cta{
      position:fixed; right:22px; top:50%; transform:translateY(-50%);
      z-index:60;
      background:linear-gradient(135deg,#00e07a,#00c2ff);
      color:#032; padding:14px 16px; border-radius:999px; font-weight:800;
      box-shadow:0 12px 36px rgba(0,192,255,0.14); display:flex; gap:12px; align-items:center;
      cursor:pointer;
    }
    .floating-cta .bubble{width:44px;height:44px;border-radius:50%;background:#fff;display:grid;place-items:center;font-weight:900}
    .floating-cta small{display:block;color:#002a1f;font-weight:700; font-size:12px; line-height:1}

    /* FOOTER */
    footer{padding:40px 6vw;background:#02111a;color:#cfe8df}
    .footer-grid{max-width:1150px;margin:0 auto;display:grid;grid-template-columns:1fr 1fr;gap:20px}
    .socials{display:flex;gap:12px;align-items:center}

    /* ANIMATIONS / RESPONSIVE */
    .slide-up{transform:translateY(30px);opacity:0;transition:transform .7s cubic-bezier(.2,.9,.2,1),opacity .7s}
    .slide-up.in-view{transform:none;opacity:1}
    @media (max-width:1024px){
      .hero{grid-template-columns:1fr 420px; padding-top:120px}
      .services{grid-template-columns:repeat(2,1fr)}
      .slider-slide{height:320px}
    }
    @media (max-width:820px){
      header{padding:12px 18px}
      .hamburger{display:flex}
      nav.desktop{display:none}
      .hero{grid-template-columns:1fr; padding:120px 5vw 60px; text-align:left}
      .hero .lead{max-width:100%}
      .mobile-nav{padding-top:120px}
      .services{grid-template-columns:1fr}
      .two-col{grid-template-columns:1fr}
      .dark-band{grid-template-columns:1fr; border-radius:20px}
      .brand{font-size:15px}
      .floating-cta{right:12px}
    }
    @media (max-width:420px){
      .hero h1{font-size:30px}
      .big-num{font-size:64px}
      .floating-cta{right:12px; padding:10px 12px}
      .floating-cta .bubble{width:36px;height:36px}
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="brand" aria-label="Gabriel Cantanhede - Automa√ß√£o Residencial">
      <div class="logo" aria-hidden="true">GC</div>
      <div>
        <div style="font-size:13px;opacity:.95">Gabriel Cantanhede</div>
        <div style="font-size:11px;opacity:.75;margin-top:2px">Automa√ß√£o Residencial</div>
      </div>
    </div>

    <nav class="desktop" aria-label="Menu principal">
      <a href="#servicos">Servi√ßos</a>
      <a href="#sobre">Sobre</a>
      <a href="#contato" class="btn secondary">Contato</a>
    </nav>

    <button class="hamburger" id="hamburger" aria-label="Abrir menu">
      <div class="bars"></div>
    </button>
  </header>

  <!-- MOBILE NAV -->
  <div class="mobile-nav" id="mobileNav" aria-hidden="true">
    <a href="#servicos" style="color:#fff;font-size:20px">Servi√ßos</a>
    <a href="#sobre" style="color:#fff;font-size:20px">Sobre</a>
    <a href="#contato" class="btn" style="margin-top:8px">Fale com um Especialista</a>
  </div>

  <!-- HERO -->
  <section class="hero" role="banner" aria-label="Apresenta√ß√£o">
    <div>
      <div class="eyebrow slide-up">Tecnologia que entende voc√™</div>
      <h1 class="slide-up">Automa√ß√£o residencial sob medida<br><span style="font-weight:600;color:#a6ffe0;font-size:22px">Conforto ‚Ä¢ Seguran√ßa ‚Ä¢ Economia</span></h1>
      <h6 class="slide-up" style="margin-top:12px;color:#7ff3d1;font-weight:600;font-size:14px">Atendimento Residencial em hor√°rio n√£o comercial: 18h √†s 22h</h6>
      <p class="lead slide-up">Projetos completos de automa√ß√£o: ilumina√ß√£o inteligente, climatiza√ß√£o, √°udio & v√≠deo, Wi-Fi profissional e integra√ß√£o de ambientes ‚Äî tudo centralizado no seu smartphone ou por comandos de voz.</p>

      <div class="ctas slide-up">
        <a class="btn" href="#contato" id="ctaPrimary">Fale com um Especialista</a>
        <a class="btn secondary" href="#servicos">Conhecer Servi√ßos</a>
      </div>

      <div class="features-strip slide-up" aria-hidden="true">
        <div class="feature-pill">Integra√ß√£o total</div>
        <div class="feature-pill">Design sob medida</div>
        <div class="feature-pill">Suporte local</div>
      </div>
    </div>

    <div aria-hidden="true" style="display:flex;align-items:center;justify-content:center;">
      <!-- decorative large SVG house placeholder -->
      <img src="https://admin.cnnbrasil.com.br/wp-content/uploads/sites/12/2023/04/casa-inteligente.jpg?w=1000&h=630&crop=1" border-radius="20%" alt="Imagem ilustrativa de uma casa inteligente com automa√ß√£o residencial" style="width:100%;max-width:480px;height:auto;box-shadow:0 12px 36px rgba(0,0,0,0.18)"/>
        <defs>
          <linearGradient id="g1" x1="0" x2="1">
            <stop offset="0" stop-color="#00c2ff"/>
            <stop offset="1" stop-color="#2ee6a7"/>
          </linearGradient>
        </defs>
        <rect rx="18" width="480" height="320" fill="url(#g1)" />
        <g fill="#ffffff" opacity="0.12">
          <rect x="40" y="120" width="200" height="120" rx="10" />
          <rect x="260" y="140" width="160" height="100" rx="8" />
          <rect x="88" y="150" width="48" height="40" rx="6" />
          <rect x="140" y="150" width="64" height="56" rx="6" />
        </g>
        <text x="36" y="40" fill="#022" font-size="20" font-weight="700"></text>
    </div>
  </section>

  <!-- MAIN -->
  <main>

    <!-- SERVICES -->
    <section id="servicos" class="section" aria-labelledby="servicosTitle">
      <h2 id="servicosTitle" class="section-title slide-up">Inove com seu lar com Automa√ß√£o Residencial</h2>
      <p class="section-desc slide-up">Do planejamento √† execu√ß√£o: consultoria, pr√©-projeto, estudo de viabilidade e acompanhamento de obra para entregar um projeto que respeite seu estilo de vida.</p>

      <div class="services">
        <article class="card slide-up" aria-labelledby="c1">
          <div class="icon">01</div>
          <h3 id="c1">Automa√ß√£o Residencial</h3>
          <p>Controle de ilumina√ß√£o, cortinas, climatiza√ß√£o, cenas personalizadas e integra√ß√£o com assistentes de voz.</p>
        </article>

        <article class="card slide-up" aria-labelledby="c2">
          <div class="icon">02</div>
          <h3 id="c2">√Åudio & V√≠deo</h3>
          <p>Home cinema, som ambiente e distribui√ß√£o multim√≠dia para todos os ambientes da casa.</p>
        </article>

        <article class="card slide-up" aria-labelledby="c3">
          <div class="icon">03</div>
          <h3 id="c3">Wi-Fi Profissional</h3>
          <p>Projeto de rede sem zonas mortas, alta velocidade e seguran√ßa avan√ßada para todos os dispositivos.</p>
        </article>

        <article class="card slide-up" aria-labelledby="c4">
          <div class="icon">04</div>
          <h3 id="c4">Seguran√ßa & Monitoramento</h3>
          <p>Solu√ß√µes integradas com c√¢meras, alarmes e notifica√ß√µes em tempo real para sua tranquilidade.</p>
        </article>
      </div>

      <!-- SLIDER - automatic only -->
      <div class="slider-wrap slide-up" aria-hidden="true" id="sliderWrap" style="position:relative;">
        <div class="slider-slide active" data-src="https://embarcados.com.br/wp-content/uploads/2024/10/Automacao-Residencial.png" style="background-image:url('https://embarcados.com.br/wp-content/uploads/2024/10/Automacao-Residencial.png'); height:420px;"></div>
        <div class="slider-slide" data-src="https://smarthomepro.com.br/wp-content/uploads/2025/08/seguranca-residencial-inteligente1.jpg" style="background-image:url('https://smarthomepro.com.br/wp-content/uploads/2025/08/seguranca-residencial-inteligente1.jpg'); height:420px;"></div>
        <div class="slider-slide" data-src="https://blog.abitelha.org.br/wp-content/uploads/2024/09/conheca-as-casas-do-futuro-principais-tendencias-768x430.jpg" style="background-image:url('https://blog.abitelha.org.br/wp-content/uploads/2024/09/conheca-as-casas-do-futuro-principais-tendencias-768x430.jpg'); height:420px;"></div>
        <!-- optional caption -->
        <div class="slider-caption" aria-hidden="true" style="position:absolute;right:18px;bottom:18px;font-size:14px;opacity:.95">Voc√™ e sua casa merecem estejam conectados</div>
      </div>

    </section>
    
    <!-- AUDIO / VIDEO BAND -->
    <section class="section" aria-labelledby="audioTitle">
      <div class="dark-band slide-up" id="audioBand" aria-live="polite" role="region">
        <!-- video will play as background when user clicks -->
        <video id="promoVideo" preload="metadata" playsinline muted>
          <!-- sample 15s public demo video; you can replace the src with your own file -->
          
          <source src="./video.mp4" type="video/mp4">
          Seu navegador n√£o suporta v√≠deo.
        </video>

        <div class="content" style="padding:18px;">
          <div>
            <div class="big-num"></div>
          </div>
          <div>
            <h3 style="margin:0 0 12px">√Åudio e V√≠deo</h3>
            <p style="margin:0 0 18px;color:rgba(255,255,255,0.9)">Transforme sua casa em um centro de entretenimento com sistemas integrados de som e proje√ß√£o, adaptados ao seu ambiente e ao seu gosto.</p>
            <ul class="tick-list" aria-hidden="true">
              <li><span class="tick">‚úì</span> Home cinema com controle central</li>
              <li><span class="tick">‚úì</span> Som ambiente para √°reas internas e externas</li>
              <li><span class="tick">‚úì</span> Integra√ß√£o com streaming e fontes digitais</li>
            </ul>

            <div style="margin-top:18px">
              <button id="playDemo" class="btn" aria-controls="promoVideo" aria-pressed="false">Assistir pr√©via (15s)</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- TWO COLUMN: WI-FI and ILLUMINATION -->
    <section class="section two-col" aria-labelledby="techTitle">
      <div class="slide-up">
        <h2 id="techTitle" class="section-title">Automa√ß√£o Residencial</h2>
        <p class="section-desc">Maximize conforto e seguran√ßa com solu√ß√µes que se adaptam ao seu dia. Controle por app e voz, cen√°rios personalizados e economia de energia.</p>
        <ul class="tick-list" style="margin-top:12px">
          <li><span class="tick">‚úì</span> Controle de ilumina√ß√£o autom√°tico</li>
          <li><span class="tick">‚úì</span> Climatiza√ß√£o inteligente</li>
          <li><span class="tick">‚úì</span> C√¢meras e monitoramento remoto</li>
        </ul>
      </div>
      <div class="slide-up" style="display:flex;flex-direction:column;gap:12px">
        <!-- small illustrative cards -->
        <div style="background:#fff;border-radius:12px;padding:12px;box-shadow:0 8px 24px rgba(2,6,23,0.06)">
          <strong>Ilumina√ß√£o Inteligente</strong>
          <p style="margin:6px 0 0;color:#666">Ajuste a intensidade e temperatura de cor conforme cen√°rios ‚Äî jantar, cinema, e fora.</p>
        </div>
        <div style="background:#fff;border-radius:12px;padding:12px;box-shadow:0 8px 24px rgba(2,6,23,0.06)">
          <strong>Gerenciamento de Cortinas</strong>
          <p style="margin:6px 0 0;color:#666">Abertura/fechamento automatizados para otimizar ilumina√ß√£o natural e privacidade.</p>
        </div>
      </div>
    </section>

    <!-- ABOUT / PROCESS -->
    <section id="sobre" class="section" aria-labelledby="aboutTitle">
      <h2 id="aboutTitle" class="section-title slide-up">Nosso processo</h2>
      <p class="section-desc slide-up">Do primeiro contato at√© a entrega final: planejamento, execu√ß√£o e suporte cont√≠nuo.</p>

      <div class="split-list slide-up" style="margin-top:18px">
        <div>
          <h3 style="margin:0 0 8px">Consultoria & Planejamento</h3>
          <p style="color:#444;margin:0 0 8px">Analisamos suas necessidades e elaboramos o pr√©-projeto com sugest√µes de produtos e layout.</p>
          <h3 style="margin:16px 0 8px">Acompanhamento da obra</h3>
          <p style="color:#444;margin:0">Supervisionamos a instala√ß√£o para garantir qualidade e conformidade com o projeto.</p>
        </div>
        <div>
          <h3 style="margin:0 0 8px">Suporte & Garantia</h3>
          <p style="color:#444;margin:0">Treinamento para uso do sistema e suporte p√≥s-entrega.</p>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contato" class="section" aria-labelledby="contactTitle">
      <h2 id="contactTitle" class="section-title slide-up">Fale com um Especialista</h2>
      <p class="section-desc slide-up">
      <div class="two-col" style="align-items:start">
        <div class="slide-up">
          <form onsubmit="event.preventDefault(); handleContact()" style="background:#fff;padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,0.06)">
            <label style="display:block;font-weight:700;margin-bottom:8px">Nome</label>
            <input id="name" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #e6e6e6;margin-bottom:12px" placeholder="Seu nome"/>
            <label style="display:block;font-weight:700;margin-bottom:8px">Telefone / WhatsApp</label>
            <input id="phone" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #e6e6e6;margin-bottom:12px" placeholder="+55 (81) 9XXXX-XXXX"/>
            <label style="display:block;font-weight:700;margin-bottom:8px">Mensagem</label>
            <textarea id="message" rows="4" style="width:100%;padding:10px;border-radius:8px;border:1px solid #e6e6e6" placeholder="Quero or√ßar automa√ß√£o para minha casa..."></textarea>
            <div style="margin-top:12px;display:flex;gap:12px">
              <button class="btn" type="submit">Enviar</button>
              <button type="button" class="btn secondary" onclick="scrollToTop()">Voltar ao topo</button>
            </div>
            <p id="formNote" style="margin-top:10px;color:#2b7a61;display:none;font-weight:700">Mensagem enviada ‚Äî obrigado!</p>
          </form>
        </div>

        <div class="slide-up">
          <div style="background:#fff;padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,0.06)">
            <h3 style="margin:0 0 8px">Contatos</h3>
            <p style="margin:6px 0"><strong>Endere√ßo:</strong> Rua Corip√≥s 401 Coqueiral Recife/PE</p>
            <p style="margin:6px 0"><strong>WhatsApp:</strong> +55 (81) 9 8165-9666</p>
           
            <p style="margin:6px 0"><strong>E-mail:</strong> contato@gc-automacao.com.br</p>
            <h6>Atendimento Residencial em hor√°rio n√£o comercial: 18:00 √°s 22:00</h6>
            <div style="margin-top:12px;">
              <a class="btn" href="tel:+55819981659666">Atendimento via WhatsApp</a>
              <a class="btn secondary" href="https://wa.me/55819981659666" style="margin-left:8px">Abrir WhatsApp</a>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- FLOATING CTA -->
  <button class="floating-cta" id="floatCta" aria-label="Fale com um especialista">
    <span class="bubble">üí¨</span>
    <div style="text-align:left">
      <small>Fale agora</small>
      <div style="font-weight:900">Especialista</div>
    </div>
  </button>

  <!-- FOOTER -->
  <footer style="text-align: center;">
    <div class="">
      <div>
        <div style="font-weight:800;font-size:18px">Gabriel Cantanhede</div>
        <div style="opacity:.85;margin-top:6px">Automa√ß√£o Residencial ‚Äî Projetos personalizados</div>
        <div style="margin-top:12px;font-size:13px;opacity:.9">¬© <span id="year"></span> Gabriel Cantanhede - Todos os direitos reservados.</div>
      </div>
      
    </div>
  </footer>

  <script>
    /* ===== Simple helpers and interactions ===== */
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile nav toggle
    const hamburger = document.getElementById('hamburger');
    const mobileNav = document.getElementById('mobileNav');

    hamburger.addEventListener('click', ()=> {
      const shown = mobileNav.classList.toggle('show');
      mobileNav.setAttribute('aria-hidden', String(!shown));
      hamburger.setAttribute('aria-expanded', String(shown));
    });

    // Floating CTA -> scroll to contact (demo)
    document.getElementById('floatCta').addEventListener('click', ()=> {
      document.querySelector('#contato').scrollIntoView({behavior:'smooth', block:'start'});
    });
    document.getElementById('ctaPrimary').addEventListener('click', (e)=>{
      e.preventDefault();
      document.querySelector('#contato').scrollIntoView({behavior:'smooth', block:'start'});
    });

    // Simple scroll to top
    function scrollToTop(){ window.scrollTo({top:0,behavior:'smooth'}) }

    // Form handler (simulated)
    function handleContact(){
      document.getElementById('formNote').style.display = 'block';
      setTimeout(()=>{ document.getElementById('formNote').style.display = 'none'; }, 3500);
      // Normally, here you'd POST to backend or trigger an email/CRM webhook.
    }

    /* ===== Scroll animations using IntersectionObserver ===== */
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('in-view');
          io.unobserve(e.target);
        }
      });
    }, {root: null, rootMargin: '0px 0px -10% 0px', threshold: 0.12});

    document.querySelectorAll('.slide-up, .card, .hero .slide-up').forEach(el=>{
      io.observe(el);
    });

    // Also observe cards inside services
    document.querySelectorAll('.card').forEach(c => io.observe(c));

    /* ===== Accessibility: close mobile nav on link click ===== */
    document.querySelectorAll('.mobile-nav a').forEach(a=>{
      a.addEventListener('click', ()=> {
        mobileNav.classList.remove('show');
        mobileNav.setAttribute('aria-hidden','true');
        hamburger.setAttribute('aria-expanded','false');
      });
    });

    /* ===== Optional: keyboard escape to close mobile nav ===== */
    document.addEventListener('keydown', (ev)=>{
      if(ev.key === 'Escape'){
        mobileNav.classList.remove('show');
        mobileNav.setAttribute('aria-hidden','true');
        hamburger.setAttribute('aria-expanded','false');
      }
    });

    /* ===== Responsive enhancements (no external libs) ===== */
    // make header shrink a bit on scroll
    const hdr = document.querySelector('header');
    window.addEventListener('scroll', ()=>{
      if(window.scrollY > 30) hdr.style.padding = '10px 20px';
      else hdr.style.padding = '18px 32px';
    });

    /* ===== SLIDER (auto only) ===== */
    (function(){
      const slides = Array.from(document.querySelectorAll('.slider-slide'));
      const bodyBefore = document.querySelector('body') ; // we'll update pseudo-element via documentElement style
      let idx = 0;
      const intervalMs = 5000;

      function setBgImage(url){
        // apply background to body::before via inline style on documentElement (use CSS variable)
        // fallback: modify a temporary element's style by injecting into document.body.style via CSS variable
        document.documentElement.style.setProperty('--slider-bg', `url("${url}")`);
        // but since we used body::before in CSS, set inline style on body element's style.backgroundImage of pseudo isn't possible.
        // workaround: change body's dataset and update style.sheet via JS by setting a style on body directly:
        document.body.style.setProperty('--temp-bg', `url("${url}")`);
        // instead, change the pseudo by creating/setting a style block:
        const rule = `body::before{ background-image: linear-gradient(rgba(255,255,255,0.0), rgba(255,255,255,0.0)), url('${url}'); opacity: 0.18; }`;
        // remove previous injected style if any
        let el = document.getElementById('slider-bg-style');
        if(!el){
          el = document.createElement('style');
          el.id = 'slider-bg-style';
          document.head.appendChild(el);
        }
        el.innerHTML = rule;
      }

      function show(i){
        idx = (i + slides.length) % slides.length;
        slides.forEach((s, n)=> s.classList.toggle('active', n === idx));
        const url = slides[idx].getAttribute('data-src');
        if(url) setBgImage(url);
      }

      // initialize
      show(0);

      // autoplay only (no manual controls)
      let timer = setInterval(()=>{ show(idx + 1); }, intervalMs);

      // pause autoplay on window/tab hidden to save resources
      document.addEventListener('visibilitychange', ()=>{
        if(document.hidden){ clearInterval(timer); timer = null; }
        else if(!timer){ timer = setInterval(()=>{ show(idx + 1); }, intervalMs); }
      });
    })();

    /* ===== VIDEO in Audio/Video band ===== */
    (function(){
      const band = document.getElementById('audioBand');
      const video = document.getElementById('promoVideo');
      const playBtn = document.getElementById('playDemo');

      // ensure video is muted by default (autoplay not attempted)
      video.muted = true;

      // click play: show video background and hide content by adding .playing
      playBtn.addEventListener('click', ()=>{
        // mark aria pressed
        playBtn.setAttribute('aria-pressed','true');
        // add class so CSS shows video and fades text
        band.classList.add('playing');
        // start from 0 and play (user gesture)
        try{
          video.currentTime = 0;
        }catch(e){}
        video.play().catch(()=>{ /* playback might fail if not allowed - but user clicked so should be fine */ });
      });

      // when video ends: remove playing class so content returns
      video.addEventListener('ended', ()=>{
        band.classList.remove('playing');
        playBtn.setAttribute('aria-pressed','false');
      });

      // also allow clicking on band background to stop video
      band.addEventListener('click', (e)=>{
        // if clicked outside the play button and video playing, stop it
        if(band.classList.contains('playing') && e.target !== playBtn){
          video.pause();
          band.classList.remove('playing');
          playBtn.setAttribute('aria-pressed','false');
        }
      });
    })();

  </script>
</body>
</html>
